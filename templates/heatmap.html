{% include 'header.html' %}

<div id="mapContainer" style="position: relative; width: 100%; height: 100%"></div>

<script src="//cdnjs.cloudflare.com/ajax/libs/d3/3.5.3/d3.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/topojson/1.6.9/topojson.min.js"></script>
<script src="{{ url_for('static', filename='js/datamaps.world.min.js') }}"></script>
<script>
var map = new Datamap({
  element: document.getElementById('mapContainer'),
  responsive: true,
  done: function(datamap) {
    datamap.svg.call(d3.behavior.zoom().on("zoom", redraw));

    function redraw() {
      datamap.svg.selectAll("g").attr("transform", "translate(" + d3.event.translate + ")scale(" + d3.event.scale + ")");
    }
  }
});

window.addEventListener('resize', function() {
  map.resize();
});
</script>

{% include 'footer.html' %}